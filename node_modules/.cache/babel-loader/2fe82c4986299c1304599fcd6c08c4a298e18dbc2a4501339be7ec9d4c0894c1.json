{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ArticlePage(){var _article$headline,_article$headline2;const{id}=useParams();const[article,setArticle]=useState(null);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{async function fetchArticle(){try{setLoading(true);const response=await axios.get(\"https://api.nytimes.com/svc/search/v2/articlesearch.json\",{params:{fq:\"_id:\\\"\".concat(id,\"\\\"\"),\"api-key\":\"2AeCG5EvH9bqHPhs9XYJbc4kd06GEeSq\"}});const docs=response.data.response.docs;if(docs.length>0){setArticle(docs[0]);setError(null);}else{setError(\"Articolo non trovato.\");}}catch(err){setError(\"Errore nel caricamento dell'articolo.\");}finally{setLoading(false);}}fetchArticle();},[id]);if(loading)return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"Caricamento articolo...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Torna alla home\"})]});return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:800,margin:\"auto\",padding:\"20px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:(_article$headline=article.headline)===null||_article$headline===void 0?void 0:_article$headline.main}),article.multimedia&&article.multimedia.length>0&&/*#__PURE__*/_jsx(\"img\",{src:\"https://www.nytimes.com/\".concat(article.multimedia[0].url),alt:(_article$headline2=article.headline)===null||_article$headline2===void 0?void 0:_article$headline2.main,style:{maxWidth:\"100%\",borderRadius:8,marginBottom:20}}),article.snippet&&/*#__PURE__*/_jsx(\"p\",{children:article.snippet}),/*#__PURE__*/_jsx(\"a\",{href:article.web_url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Continua a leggere sul NYTimes\"})]});}export default ArticlePage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","jsx","_jsx","jsxs","_jsxs","ArticlePage","_article$headline","_article$headline2","id","article","setArticle","error","setError","loading","setLoading","fetchArticle","response","get","params","fq","concat","docs","data","length","err","style","textAlign","children","to","maxWidth","margin","padding","headline","main","multimedia","src","url","alt","borderRadius","marginBottom","snippet","href","web_url","target","rel"],"sources":["/workspaces/progetto-react-di-Andrea-Altomare/src/page/ArticlePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction ArticlePage() {\n  const { id } = useParams();\n  const [article, setArticle] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchArticle() {\n      try {\n        setLoading(true);\n        const response = await axios.get(\n          `https://api.nytimes.com/svc/search/v2/articlesearch.json`,\n          {\n            params: {\n              fq: `_id:\"${id}\"`,\n              \"api-key\": \"2AeCG5EvH9bqHPhs9XYJbc4kd06GEeSq\",\n            },\n          }\n        );\n        const docs = response.data.response.docs;\n        if (docs.length > 0) {\n          setArticle(docs[0]);\n          setError(null);\n        } else {\n          setError(\"Articolo non trovato.\");\n        }\n      } catch (err) {\n        setError(\"Errore nel caricamento dell'articolo.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchArticle();\n  }, [id]);\n\n  if (loading)\n    return <p style={{ textAlign: \"center\" }}>Caricamento articolo...</p>;\n  if (error)\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <p>{error}</p>\n        <Link to=\"/\">Torna alla home</Link>\n      </div>\n    );\n\n  return (\n    <div style={{ maxWidth: 800, margin: \"auto\", padding: \"20px\" }}>\n      <h1>{article.headline?.main}</h1>\n\n      {article.multimedia && article.multimedia.length > 0 && (\n        <img\n          src={`https://www.nytimes.com/${article.multimedia[0].url}`}\n          alt={article.headline?.main}\n          style={{ maxWidth: \"100%\", borderRadius: 8, marginBottom: 20 }}\n        />\n      )}\n\n      {article.snippet && <p>{article.snippet}</p>}\n\n      <a href={article.web_url} target=\"_blank\" rel=\"noopener noreferrer\">\n        Continua a leggere sul NYTimes\n      </a>\n    </div>\n  );\n}\n\nexport default ArticlePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}